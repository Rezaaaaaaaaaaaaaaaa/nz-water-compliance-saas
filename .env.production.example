# Production Environment Configuration Template
# Copy this file to .env.production and fill in your values

# ============================================
# BACKEND CONFIGURATION
# ============================================

# Core
NODE_ENV=production
BACKEND_PORT=3001
FRONTEND_URL=https://your-domain.com
API_BASE_URL=https://api.your-domain.com

# Database (PostgreSQL)
DATABASE_URL=postgresql://user:password@your-db-host:5432/compliance_prod
DB_SSL=true
DB_POOL_MIN=2
DB_POOL_MAX=10

# Redis Cache
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password-here
REDIS_TLS=true
REDIS_DB=0

# JWT Security (Generate: openssl rand -hex 32)
JWT_SECRET=
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# AWS Services
AWS_REGION=ap-southeast-2
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=nz-water-compliance-prod
AWS_S3_REGION=ap-southeast-2

# Email Configuration (Choose one provider)
EMAIL_PROVIDER=ses  # ses, sendgrid, or console
AWS_SES_FROM_EMAIL=noreply@your-domain.com
# SENDGRID_API_KEY=
# SENDGRID_FROM_EMAIL=noreply@your-domain.com

# Anthropic AI
ANTHROPIC_API_KEY=

# Rate Limiting
RATE_LIMIT_WINDOW=900000  # 15 minutes in ms
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_EXPORT=10  # Stricter for exports

# Feature Flags
ENABLE_BACKGROUND_JOBS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_AUDIT_LOGGING=true
ENABLE_AI_FEATURES=true

# File Upload
MAX_FILE_SIZE=52428800  # 50MB in bytes

# Compliance & Audit
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for compliance

# Monitoring
SENTRY_DSN=
LOG_LEVEL=info
ENABLE_METRICS=true

# ============================================
# FRONTEND CONFIGURATION
# ============================================

# API Endpoints
NEXT_PUBLIC_API_URL=https://api.your-domain.com/api/v1
NEXT_PUBLIC_APP_URL=https://your-domain.com

# Feature Flags
NEXT_PUBLIC_ENABLE_AI=true
NEXT_PUBLIC_ENABLE_ANALYTICS=true
NEXT_PUBLIC_ENABLE_EXPORT=true

# Monitoring
NEXT_PUBLIC_SENTRY_DSN=

# Analytics (optional)
NEXT_PUBLIC_GA_MEASUREMENT_ID=

# ============================================
# DEPLOYMENT CONFIGURATION
# ============================================

# Docker Registry
DOCKER_REGISTRY=your-registry.com
DOCKER_IMAGE_TAG=latest

# Deployment Target
DEPLOY_ENV=production
DEPLOY_REGION=ap-southeast-2

# SSL/TLS
SSL_CERT_PATH=/etc/ssl/certs/your-cert.pem
SSL_KEY_PATH=/etc/ssl/private/your-key.pem

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_RETENTION_DAYS=30

# Health Check
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3